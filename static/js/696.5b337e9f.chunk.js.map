{"version":3,"file":"static/js/696.5b337e9f.chunk.js","mappings":"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","sources":["api/question.ts","components/CustomDialog/index.tsx","content/chat/ChatHeader.tsx","api/chat.ts","content/chat/ChatInput.tsx","utils/formatChatTime.ts","content/chat/message/MyMessage.tsx","content/chat/message/OtherMessage.tsx","content/chat/ChatContent.tsx","components/Scrollbar/index.tsx","content/chat/index.tsx","content/user/profile/Rank.tsx"],"sourcesContent":["import { Category } from 'src/data/category'\r\nimport ApiManager from '.'\r\nimport { QuestionInfo, QuestionPreview } from 'src/models/question'\r\n\r\nexport const getQuestions = async (category: Category): Promise<QuestionPreview[]> => {\r\n  if (category === '') {\r\n    const response = await ApiManager.get('/qa/list')\r\n    return response.data\r\n  }\r\n  const response = await ApiManager.get(`/qa/list/${category.toUpperCase()}`)\r\n  return response.data\r\n}\r\n\r\nexport const postQuestionNew = async (token: string, questionInfo: QuestionInfo): Promise<{ id: number }> => {\r\n  const res = await ApiManager.post('/qa/new', questionInfo, {\r\n    headers: {\r\n      Authorization: `${token}`\r\n    }\r\n  })\r\n  return res.data\r\n}\r\n\r\nexport const postQuestionJoin = async (token: string, questionId: number): Promise<void> => {\r\n  await ApiManager.post(\r\n    `/qa/join`,\r\n    { qaId: questionId },\r\n    {\r\n      headers: {\r\n        Authorization: `${token}`\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nexport const postQuestionEndAI = async (token: string, questionId: number): Promise<void> => {\r\n  await ApiManager.post(\r\n    `/qa/endAI`,\r\n    { qaId: questionId },\r\n    {\r\n      headers: {\r\n        Authorization: `${token}`\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nexport const postQuestionEnd = async (token: string, questionId: number): Promise<void> => {\r\n  await ApiManager.post(\r\n    `/qa/end`,\r\n    { qaId: questionId },\r\n    {\r\n      headers: {\r\n        Authorization: `${token}`\r\n      }\r\n    }\r\n  )\r\n}\r\n","import { Button, Dialog, DialogActions, Typography } from '@mui/material'\r\n\r\ninterface CustomDialogProps {\r\n  text: string\r\n  open: boolean\r\n  primaryText?: string\r\n  cancelText?: string\r\n  onClose: () => void\r\n  onClickPrimary?: () => void\r\n}\r\n\r\nconst CustomDialog = (props: CustomDialogProps) => {\r\n  const { cancelText, primaryText, text, open, onClose, onClickPrimary } = props\r\n  return (\r\n    <Dialog open={open} onClose={onClose}>\r\n      <Typography variant=\"h5\" sx={{ fontWeight: 'bold', textAlign: 'center', mt: 2, maxWidth: 300, p: 2 }}>\r\n        {text}\r\n      </Typography>\r\n      {(cancelText || primaryText) && (\r\n        <DialogActions>\r\n          {cancelText && <Button onClick={onClose}>{cancelText}</Button>}\r\n          {primaryText && (\r\n            <Button onClick={onClickPrimary} autoFocus>\r\n              {primaryText}\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      )}\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default CustomDialog\r\n","import { Box, Tooltip, Avatar, Typography, styled, Button, Chip } from '@mui/material'\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle'\nimport RecordVoiceOverIcon from '@mui/icons-material/RecordVoiceOver'\nimport stringToHexColor from 'src/utils/stringToColor'\nimport CustomDialog from 'src/components/CustomDialog'\nimport { useState } from 'react'\nimport { enqueueSnackbar } from 'notistack'\nimport { postQuestionEnd } from 'src/api/question'\nimport { useAuthHeader } from 'react-auth-kit'\nimport { Profile } from 'src/models/chat'\nimport { GradeSet } from 'src/models/user'\nimport { useNavigate } from 'react-router'\nimport RankBadge from '../user/profile/Rank'\n\nconst BOT = 'Agora Bot'\n\ninterface ChatHeaderProps {\n  profile: Profile | null\n  qaId: number\n  createdAt?: string\n}\n\nconst ChatHeader = ({ profile, qaId, createdAt }: ChatHeaderProps) => {\n  const [isOpenDone, setIsOpenDone] = useState(false)\n  const [isOpenChange, setIsOpenChange] = useState(false)\n\n  const navigate = useNavigate()\n  const token = useAuthHeader()()\n\n  const handleOpenDone = () => {\n    setIsOpenDone(prev => !prev)\n  }\n\n  const handleOpenChange = () => {\n    setIsOpenChange(prev => !prev)\n  }\n\n  const handleClickDone = async () => {\n    try {\n      await postQuestionEnd(token, qaId)\n      enqueueSnackbar('문제가 해결되었다니 다행이에요!', { variant: 'success' })\n      handleOpenDone()\n      navigate('/profile')\n    } catch (error) {\n      enqueueSnackbar('서버에서 에러가 생겼어요. 나중에 다시 시도해 주세요', { variant: 'error' })\n      handleOpenDone()\n    }\n  }\n\n  const handleClickChange = async () => {\n    try {\n      await postQuestionEnd(token, qaId)\n      handleOpenChange()\n    } catch (error) {\n      enqueueSnackbar('서버에서 에러가 생겼어요. 나중에 다시 시도해 주세요', { variant: 'error' })\n      handleOpenChange()\n    }\n  }\n\n  return (\n    <RootWrapper>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Avatar sx={{ bgcolor: stringToHexColor(profile?.nickname ?? BOT) }}>{profile?.nickname[0] ?? BOT[0]}</Avatar>\n        {profile && (\n          <Box width=\"auto\" justifyContent={'center'}>\n            <Box display={'flex'} justifyContent={'center'}>\n              <RankBadge rank={profile.rank} />\n            </Box>\n          </Box>\n        )}\n        <Box>\n          <Box display={'flex'} alignItems={'center'}>\n            <Typography variant=\"h4\">&nbsp;{profile?.nickname ?? BOT}</Typography>\n            {profile && <Chip label={GradeSet[profile.grade]} sx={{ mx: 1 }} size=\"small\" color=\"primary\" />}{' '}\n          </Box>\n          {profile && profile.grade !== 'PROFESSOR' && (\n            <Typography variant=\"subtitle1\">{profile.univId.slice(0, 2)} 학번</Typography>\n          )}\n        </Box>\n      </Box>\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        {createdAt && (\n          <Typography variant=\"subtitle1\" sx={{ mr: 2 }}>\n            생성일: {createdAt.split('T')[0].replaceAll('-', '.')}\n          </Typography>\n        )}\n        <Tooltip placement=\"bottom\" title=\"문제가 해결되었어요\">\n          <Button\n            startIcon={<CheckCircleIcon />}\n            variant=\"outlined\"\n            color=\"success\"\n            onClick={handleOpenDone}\n            sx={{ mr: 2 }}\n          >\n            <Typography variant=\"subtitle1\">해결</Typography>\n          </Button>\n        </Tooltip>\n        {profile === null && (\n          <Tooltip placement=\"bottom\" title=\"사람을 연결해주세요\">\n            <Button startIcon={<RecordVoiceOverIcon />} variant=\"outlined\" color=\"primary\" onClick={handleOpenChange}>\n              <Typography variant=\"subtitle1\">전환</Typography>\n            </Button>\n          </Tooltip>\n        )}\n      </Box>\n      <CustomDialog\n        text={'문제가 해결되었나요? 완료하시면 돌이킬 수 없으니 신중하게 선택해주세요!'}\n        open={isOpenDone}\n        onClose={handleOpenDone}\n        onClickPrimary={handleClickDone}\n        primaryText=\"완료\"\n        cancelText=\"취소\"\n      />\n      <CustomDialog\n        text={'선배들에게서 직접 답변을 받을 수 있는 기능이에요. 계속 하시겠어요?'}\n        open={isOpenChange}\n        onClose={handleOpenChange}\n        onClickPrimary={handleClickChange}\n        primaryText=\"전환\"\n        cancelText=\"취소\"\n      />\n    </RootWrapper>\n  )\n}\n\nexport default ChatHeader\n\nconst RootWrapper = styled(Box)(\n  ({ theme }) => `\n        @media (min-width: ${theme.breakpoints.values.md}px) {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n      }\n`\n)\n","import { ChatInfo, ChatState } from 'src/models/chat'\r\nimport ApiManager from '.'\r\n\r\nexport const postQuestionChat = async (token: string, chatInfo: ChatInfo): Promise<void> => {\r\n  console.log(chatInfo)\r\n  await ApiManager.post(`/qa/chat`, chatInfo, {\r\n    headers: {\r\n      Authorization: `${token}`\r\n    }\r\n  })\r\n}\r\n\r\nexport const getQuestionChat = async (token: string, qaId: number): Promise<ChatState> => {\r\n  const response = await ApiManager.get(`/qa/chat/${qaId}`, {\r\n    headers: {\r\n      Authorization: `${token}`\r\n    }\r\n  })\r\n  return response.data\r\n}\r\n","import { Avatar, Box, Button, styled, InputBase, useTheme } from '@mui/material'\nimport SendTwoToneIcon from '@mui/icons-material/SendTwoTone'\nimport stringToHexColor from 'src/utils/stringToColor'\nimport { useAuthHeader, useAuthUser } from 'react-auth-kit'\nimport { useState } from 'react'\nimport { Category } from 'src/data/category'\nimport { postQuestionNew } from 'src/api/question'\nimport { QuestionInfo } from 'src/models/question'\nimport { enqueueSnackbar } from 'notistack'\nimport { useNavigate, useParams } from 'react-router'\nimport { postQuestionChat } from 'src/api/chat'\nimport { ChatInfo } from 'src/models/chat'\n\nconst ChatInput = ({ isQuestionUser }: { isQuestionUser: boolean }) => {\n  const theme = useTheme()\n  const user = useAuthUser()()\n  const token = useAuthHeader()()\n  const navigate = useNavigate()\n\n  const { category } = useParams()\n  const qaId = Number(category)\n\n  const [questionInfo, setQuestionInfo] = useState<QuestionInfo>({\n    question: '',\n    category: category?.toUpperCase() as Category\n  })\n\n  const [chatInfo, setChatInfo] = useState<ChatInfo>({\n    qaId: qaId,\n    chat: '',\n    isQuestion: isQuestionUser,\n    questionId: 0\n  })\n\n  const handleChangeChat = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setChatInfo({\n      ...chatInfo,\n      chat: event.target.value\n    })\n  }\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuestionInfo({\n      ...questionInfo,\n      question: event.target.value\n    })\n  }\n\n  const handleSendMessage = async () => {\n    try {\n      await postQuestionChat(token, { ...chatInfo, qaId: qaId })\n      setChatInfo({\n        ...chatInfo,\n        chat: ''\n      })\n    } catch (error) {\n      enqueueSnackbar('채팅이 전송되지 않았어요. 나중에 다시 시도해 주세요', { variant: 'error' })\n    }\n  }\n\n  const handleCreateChatRoom = async () => {\n    try {\n      const res = await postQuestionNew(token, questionInfo)\n      enqueueSnackbar('채팅방이 생성되었어요!', { variant: 'success' })\n      navigate(`/chat/${res.id}`)\n    } catch (error) {\n      enqueueSnackbar('서버에서 에러가 생겼어요. 나중에 다시 시도해 주세요', { variant: 'error' })\n    }\n  }\n\n  return (\n    <Box sx={{ background: theme.colors.alpha.white[50], display: 'flex', alignItems: 'center', p: 2 }}>\n      <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n        <Avatar sx={{ bgcolor: stringToHexColor(user.nickname) }}>{user.nickname[0]}</Avatar>\n        <MessageInputWrapper\n          autoFocus\n          placeholder=\"질문을 입력해주세요\"\n          fullWidth\n          value={qaId ? chatInfo.chat : questionInfo.question}\n          onChange={qaId ? handleChangeChat : handleChange}\n        />\n        <Box>\n          <Button\n            startIcon={<SendTwoToneIcon />}\n            variant=\"contained\"\n            sx={{ width: 150, height: 50 }}\n            onClick={qaId ? handleSendMessage : handleCreateChatRoom}\n          >\n            {qaId ? '보내기' : '채팅방 생성'}\n          </Button>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\nexport default ChatInput\n\nconst MessageInputWrapper = styled(InputBase)(\n  ({ theme }) => `\n    font-size: ${theme.typography.pxToRem(18)};\n    padding: ${theme.spacing(1)};\n    width: 100%;\n`\n)\n","export const formatChatTime = (sentAt: string): string => {\r\n  const date = new Date(sentAt)\r\n  const month = date.getMonth() + 1\r\n  const day = date.getDate()\r\n  const hours = date.getHours()\r\n  const minutes = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes()\r\n  const today = new Date()\r\n  if (\r\n    date.getDate() === today.getDate() &&\r\n    date.getMonth() === today.getMonth() &&\r\n    date.getFullYear() === today.getFullYear()\r\n  ) {\r\n    return `${hours}:${minutes}`\r\n  }\r\n  return `${month}/${day} ${hours}:${minutes}`\r\n}\r\n","import { Box, Typography, Card, styled } from '@mui/material'\r\nimport { formatChatTime } from 'src/utils/formatChatTime'\r\n\r\ninterface MyMessageProps {\r\n  message: string\r\n  sentAt: string\r\n}\r\n\r\nconst MyMessage = ({ message, sentAt }: MyMessageProps) => {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"flex-start\" justifyContent=\"flex-end\" py={3}>\r\n      <Box display=\"flex\" alignItems=\"flex-end\" justifyContent=\"flex-end\" mr={2}>\r\n        <Typography variant=\"subtitle1\" sx={{ pt: 1, mr: 1, display: 'flex', alignItems: 'center' }}>\r\n          {formatChatTime(sentAt)}\r\n        </Typography>\r\n        <CardWrapperPrimary>{message}</CardWrapperPrimary>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default MyMessage\r\n\r\nconst CardWrapperPrimary = styled(Card)(\r\n  ({ theme }) => `\r\n        background: ${theme.colors.primary.main};\r\n        color: ${theme.palette.primary.contrastText};\r\n        padding: ${theme.spacing(2)};\r\n        border-radius: ${theme.general.borderRadiusXl};\r\n        border-top-right-radius: ${theme.general.borderRadius};\r\n        max-width: 380px;\r\n        display: inline-flex;\r\n  `\r\n)\r\n","import { Box, Typography, Card, styled, Avatar } from '@mui/material'\r\nimport { formatDistance } from 'date-fns'\r\nimport { formatChatTime } from 'src/utils/formatChatTime'\r\nimport stringToHexColor from 'src/utils/stringToColor'\r\n\r\ninterface MyMessageProps {\r\n  message: string\r\n  sentAt: string\r\n  nickname: string\r\n}\r\n\r\nconst OtherMessage = ({ message, sentAt, nickname }: MyMessageProps) => {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"flex-start\" justifyContent=\"flex-start\" py={3}>\r\n      <Avatar sx={{ bgColor: stringToHexColor(nickname) }}>{nickname[0]}</Avatar>\r\n      <Box display=\"flex\" alignItems=\"flex-base\" justifyContent=\"flex-start\" ml={2}>\r\n        <CardWrapperSecondary sx={{ mb: 1 }}>{message}</CardWrapperSecondary>\r\n        <Typography variant=\"subtitle1\" sx={{ ml: 1, pt: 1, display: 'flex', alignItems: 'center' }}>\r\n          {formatChatTime(sentAt)}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default OtherMessage\r\n\r\nconst CardWrapperSecondary = styled(Card)(\r\n  ({ theme }) => `\r\n      background: ${theme.colors.alpha.black[10]};\r\n      color: ${theme.colors.alpha.black[100]};\r\n      padding: ${theme.spacing(2)};\r\n      border-radius: ${theme.general.borderRadiusXl};\r\n      border-top-left-radius: ${theme.general.borderRadius};\r\n      max-width: 380px;\r\n      display: inline-flex;\r\n`\r\n)\r\n","import { Box } from '@mui/material'\n\nimport MyMessage from './message/MyMessage'\nimport OtherMessage from './message/OtherMessage'\nimport { ChatHistory } from 'src/models/chat'\n\ninterface ChatContentProps {\n  nickname: string\n  chatDetails: ChatHistory[]\n  isQuestionUser: boolean\n}\n\nconst ChatContent = ({ isQuestionUser, nickname, chatDetails }: ChatContentProps) => {\n  return (\n    <Box p={3}>\n      {chatDetails?.map((chatDetail, index) => {\n        if (isQuestionUser) {\n          if (chatDetail.isQuestion) {\n            return <MyMessage key={index} message={chatDetail.chat} sentAt={chatDetail.createdAt} />\n          } else {\n            return (\n              <OtherMessage key={index} message={chatDetail.chat} sentAt={chatDetail.createdAt} nickname={nickname} />\n            )\n          }\n        }\n        if (chatDetail.isQuestion) {\n          return (\n            <OtherMessage key={index} message={chatDetail.chat} sentAt={chatDetail.createdAt} nickname={nickname} />\n          )\n        } else {\n          return <MyMessage key={index} message={chatDetail.chat} sentAt={chatDetail.createdAt} />\n        }\n      })}\n    </Box>\n  )\n}\n\nexport default ChatContent\n","import { FC, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport { Scrollbars } from 'react-custom-scrollbars-2';\n\nimport { Box, useTheme } from '@mui/material';\n\ninterface ScrollbarProps {\n  className?: string;\n  children?: ReactNode;\n}\n\nconst Scrollbar: FC<ScrollbarProps> = ({ className, children, ...rest }) => {\n  const theme = useTheme();\n\n  return (\n    <Scrollbars\n      autoHide\n      renderThumbVertical={() => {\n        return (\n          <Box\n            sx={{\n              width: 5,\n              background: `${theme.colors.alpha.black[10]}`,\n              borderRadius: `${theme.general.borderRadiusLg}`,\n              transition: `${theme.transitions.create(['background'])}`,\n\n              '&:hover': {\n                background: `${theme.colors.alpha.black[30]}`\n              }\n            }}\n          />\n        );\n      }}\n      {...rest}\n    >\n      {children}\n    </Scrollbars>\n  );\n};\n\nScrollbar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\n\nexport default Scrollbar;\n","import { Helmet } from 'react-helmet-async'\n\nimport ChatHeader from './ChatHeader'\nimport ChatInput from './ChatInput'\nimport ChatContent from './ChatContent'\n\nimport Scrollbar from 'src/components/Scrollbar'\n\nimport { Box, styled, Divider } from '@mui/material'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { useEffect, useState } from 'react'\nimport { getQuestionChat } from 'src/api/chat'\nimport { useAuthHeader } from 'react-auth-kit'\nimport { ChatHistory, Profile } from 'src/models/chat'\nimport { enqueueSnackbar } from 'notistack'\nimport { Category } from 'src/data/category'\n\nconst ChatScreen = () => {\n  const { category } = useParams()\n  const qaId = Number(category)\n  const token = useAuthHeader()()\n  const navigate = useNavigate()\n  const [chatDetails, setChatDetails] = useState<ChatHistory[]>([])\n  const [profile, setProfile] = useState<Profile | null>(null)\n  const [isQuestionUser, setIsQuestionUser] = useState(false)\n  // if (!token) {\n  //   navigate('auth/login')\n  //   return null\n  // }\n\n  const handleFetchChatDetails = async () => {\n    try {\n      const res = await getQuestionChat(token, qaId)\n      console.log(res)\n      setChatDetails(res.chats)\n      if (res.profile) {\n        setProfile(res.profile)\n      }\n      setIsQuestionUser(res.isQuestionUser)\n    } catch (error) {\n      enqueueSnackbar('채팅 내역을 불러오는데 실패했어요. 나중에 다시 시도해 주세요', { variant: 'error' })\n    }\n  }\n\n  useEffect(() => {\n    if (!qaId) return\n    handleFetchChatDetails()\n  }, [qaId])\n\n  return (\n    <>\n      <Helmet>\n        <title>채팅</title>\n      </Helmet>\n      <RootWrapper className=\"Mui-FixedWrapper\">\n        <ChatWindow>\n          {!!qaId && (\n            <ChatTopBar sx={{ display: { xs: 'flex', lg: 'inline-block' } }}>\n              <ChatHeader\n                profile={profile}\n                qaId={qaId}\n                createdAt={chatDetails?.length !== 0 ? chatDetails[0].createdAt : ''}\n              />\n            </ChatTopBar>\n          )}\n          <Box flex={1}>\n            <Scrollbar>\n              <ChatContent\n                isQuestionUser={isQuestionUser}\n                nickname={profile?.nickname ?? 'BOT'}\n                chatDetails={chatDetails}\n              />\n            </Scrollbar>\n          </Box>\n          <Divider />\n          <ChatInput isQuestionUser={isQuestionUser} />\n        </ChatWindow>\n      </RootWrapper>\n    </>\n  )\n}\n\nexport default ChatScreen\n\nconst RootWrapper = styled(Box)(\n  ({ theme }) => `\n       height: calc(100vh - ${theme.header.height});\n       display: flex;\n`\n)\n\nconst ChatWindow = styled(Box)(\n  () => `\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n`\n)\n\nconst ChatTopBar = styled(Box)(\n  ({ theme }) => `\n        background: ${theme.colors.alpha.white[100]};\n        border-bottom: ${theme.colors.alpha.black[10]} solid 1px;\n        padding: ${theme.spacing(2)};\n        align-items: center;\n`\n)\n","import MilitaryTechIcon from '@mui/icons-material/MilitaryTech'\r\nimport { BadgeSet } from 'src/models/user'\r\n\r\ninterface RankBadgeProps {\r\n  rank: number\r\n}\r\n\r\nconst badgeColor = {\r\n  BRONZE: '#cd7f32',\r\n  SILVER: '#c0c0c0',\r\n  GOLD: '#ffd700',\r\n  PLATINUM: '#00ced1',\r\n  DIAMOND: '#b9f2ff'\r\n}\r\n\r\nconst RankBadge = ({ rank }: RankBadgeProps) => {\r\n  const badgeType = BadgeSet[rank].split(' ')[0]\r\n  return <MilitaryTechIcon sx={{ fontSize: 38, color: badgeColor[badgeType] }} />\r\n}\r\n\r\nexport default RankBadge\r\n"],"names":["getQuestions","category","ApiManager","response","data","toUpperCase","postQuestionNew","token","questionInfo","headers","Authorization","res","postQuestionEnd","questionId","qaId","props","cancelText","primaryText","text","open","onClose","onClickPrimary","Dialog","Typography","variant","sx","fontWeight","textAlign","mt","maxWidth","p","DialogActions","Button","onClick","autoFocus","BOT","profile","createdAt","useState","isOpenDone","setIsOpenDone","isOpenChange","setIsOpenChange","navigate","useNavigate","useAuthHeader","handleOpenDone","prev","handleOpenChange","handleClickDone","enqueueSnackbar","handleClickChange","RootWrapper","Box","display","alignItems","Avatar","bgcolor","stringToHexColor","nickname","width","justifyContent","Rank","rank","Chip","label","GradeSet","grade","mx","size","color","univId","slice","mr","split","replaceAll","Tooltip","placement","title","startIcon","CheckCircle","RecordVoiceOver","styled","theme","breakpoints","values","md","postQuestionChat","chatInfo","console","log","getQuestionChat","isQuestionUser","useTheme","user","useAuthUser","useParams","Number","question","setQuestionInfo","chat","isQuestion","setChatInfo","handleSendMessage","handleCreateChatRoom","id","background","colors","alpha","white","flexGrow","MessageInputWrapper","placeholder","fullWidth","value","onChange","event","target","SendTwoTone","height","InputBase","typography","pxToRem","spacing","formatChatTime","sentAt","date","Date","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","today","getFullYear","message","py","pt","CardWrapperPrimary","Card","primary","main","palette","contrastText","general","borderRadiusXl","borderRadius","bgColor","ml","CardWrapperSecondary","mb","black","chatDetails","map","chatDetail","index","className","children","rest","autoHide","renderThumbVertical","borderRadiusLg","transition","transitions","create","setChatDetails","setProfile","setIsQuestionUser","handleFetchChatDetails","chats","useEffect","ChatWindow","ChatTopBar","xs","lg","length","flex","Divider","header","badgeColor","BRONZE","SILVER","GOLD","PLATINUM","DIAMOND","badgeType","BadgeSet","fontSize"],"sourceRoot":""}