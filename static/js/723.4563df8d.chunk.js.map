{"version":3,"file":"static/js/723.4563df8d.chunk.js","mappings":"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","sources":["api/auth.ts","components/Footer/index.tsx","content/auth/Login/index.tsx"],"sourcesContent":["import { LoginUser, RegisterUser } from 'src/models/user'\r\nimport ApiManager from '.'\r\n\r\nexport const postLogin = async (loginInfo: LoginUser) => {\r\n  const response = await ApiManager.post('/auth/login', loginInfo)\r\n  return response.data\r\n}\r\n\r\nexport const postRegister = async (registerInfo: RegisterUser) => {\r\n  const response = await ApiManager.post('/auth/signup', registerInfo)\r\n  return response.data\r\n}\r\n\r\nexport const postNicknameTest = async (nickname: string) => {\r\n  const response = await ApiManager.post('/auth/checkNickname', { nickname })\r\n  return response.data\r\n}\r\n","import { Box, Container, Link, Typography, styled } from '@mui/material'\n\nconst FooterWrapper = styled(Container)(\n  ({ theme }) => `\n        margin-top: ${theme.spacing(4)};\n`\n)\n\nfunction Footer() {\n  return (\n    <FooterWrapper className=\"footer-wrapper\">\n      <Box\n        pb={4}\n        display={{ xs: 'block', md: 'flex' }}\n        alignItems=\"center\"\n        textAlign={{ xs: 'center', md: 'left' }}\n        justifyContent=\"space-between\"\n      >\n        <Box>\n          <Typography variant=\"subtitle1\">&copy; 2023 - inThon 2023 Team 5</Typography>\n        </Box>\n      </Box>\n    </FooterWrapper>\n  )\n}\n\nexport default Footer\n","import { Helmet } from 'react-helmet-async'\r\nimport { useState } from 'react'\r\n\r\nimport { Container, Card, TextField, Link, styled } from '@mui/material'\r\nimport Footer from 'src/components/Footer'\r\n\r\nimport Button from '@mui/material/Button'\r\nimport Box from '@mui/material/Box'\r\nimport Typography from '@mui/material/Typography'\r\nimport { postLogin } from 'src/api/auth'\r\nimport { LoginUser } from 'src/models/user'\r\nimport { useSnackbar } from 'notistack'\r\nimport { useSignIn } from 'react-auth-kit'\r\nimport { useNavigate } from 'react-router'\r\n\r\nconst LoginScreen = () => {\r\n  const [loginInfo, setLoginInfo] = useState<LoginUser>({\r\n    univId: '',\r\n    password: ''\r\n  })\r\n\r\n  const signIn = useSignIn()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const navigate = useNavigate()\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setLoginInfo({\r\n      ...loginInfo,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n\r\n    if (loginInfo.univId.length === 0 || loginInfo.password.length === 0) {\r\n      enqueueSnackbar('학번과 비밀번호를 입력해주세요.', { variant: 'warning' })\r\n      return\r\n    }\r\n    try {\r\n      const res = await postLogin(loginInfo)\r\n      const authData = {\r\n        token: res.token,\r\n        tokenType: 'Bearer',\r\n        authState: {\r\n          id: res.userInfo.id,\r\n          email: res.userInfo.email,\r\n          grade: res.userInfo.grade,\r\n          name: res.userInfo.name,\r\n          nickname: res.userInfo.nickname,\r\n          point: res.userInfo.point,\r\n          rank: res.userInfo.rank,\r\n          univId: res.userInfo.univId\r\n        },\r\n        expiresIn: 60 * 60 * 24 * 1000\r\n      }\r\n      signIn(authData)\r\n      enqueueSnackbar('안녕하세요, 사용자님!', { variant: 'success' })\r\n      navigate('/')\r\n    } catch (e) {\r\n      enqueueSnackbar('로그인에 실패했어요. 나중에 다시 시도해주세요 :(', { variant: 'error' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <RoundWrapper>\r\n        <Helmet>\r\n          <title>로그인</title>\r\n        </Helmet>\r\n        <Container maxWidth=\"lg\">\r\n          <Box display=\"flex\" justifyContent=\"center\" py={2} alignItems=\"center\">\r\n            {/* <Logo /> */}\r\n          </Box>\r\n          <Card sx={{ p: 10, borderRadius: 0, borderTopRightRadius: 80, borderTopLeftRadius: 80 }}>\r\n            <Container\r\n              sx={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                marginY: 20,\r\n                maxWidth: 'sm'\r\n              }}\r\n            >\r\n              <Box\r\n                component=\"form\"\r\n                sx={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  '& .MuiTextField-root': { margin: 1 }\r\n                }}\r\n                onSubmit={handleSubmit}\r\n              >\r\n                <Typography variant=\"h3\" component=\"div\" gutterBottom>\r\n                  로그인\r\n                </Typography>\r\n                <TextField\r\n                  id=\"univId\"\r\n                  name=\"univId\"\r\n                  type=\"text\"\r\n                  label=\"(학교) 학번\"\r\n                  onChange={handleChange}\r\n                  fullWidth\r\n                />\r\n                <TextField\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  label=\"비밀번호\"\r\n                  onChange={handleChange}\r\n                  fullWidth\r\n                />\r\n                <Button type=\"submit\" variant=\"contained\" fullWidth sx={{ mt: 1 }}>\r\n                  로그인\r\n                </Button>\r\n                <Link href=\"/auth/register\" sx={{ mt: 1 }}>\r\n                  아직 계정이 없으신가요?\r\n                </Link>\r\n              </Box>\r\n            </Container>\r\n          </Card>\r\n        </Container>\r\n        <Footer />\r\n      </RoundWrapper>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default LoginScreen\r\n\r\nexport const RoundWrapper = styled(Box)(\r\n  () => `\r\n    overflow: auto;\r\n    flex: 1;\r\n    overflow-x: hidden;\r\n    align-items: center;\r\n`\r\n)\r\n"],"names":["postLogin","loginInfo","ApiManager","response","data","postRegister","registerInfo","postNicknameTest","nickname","FooterWrapper","styled","Container","theme","spacing","className","pb","display","xs","md","alignItems","textAlign","justifyContent","variant","useState","univId","password","setLoginInfo","signIn","useSignIn","enqueueSnackbar","useSnackbar","navigate","useNavigate","handleChange","e","target","name","value","handleSubmit","preventDefault","length","res","authData","token","tokenType","authState","id","userInfo","email","grade","point","rank","expiresIn","RoundWrapper","maxWidth","py","sx","p","borderRadius","borderTopRightRadius","borderTopLeftRadius","marginY","component","flexDirection","margin","onSubmit","gutterBottom","type","label","onChange","fullWidth","mt","href","Box"],"sourceRoot":""}