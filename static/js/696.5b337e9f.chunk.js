"use strict";(self.webpackChunkAGORA=self.webpackChunkAGORA||[]).push([[696],{7153:function(n,e,t){t.d(e,{FS:function(){return s},Xh:function(){return o},tI:function(){return i}});var r=t(8214),a=t(5861),c=t(3567),i=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e){n.next=5;break}return n.next=3,c.Z.get("/qa/list");case 3:return t=n.sent,n.abrupt("return",t.data);case 5:return n.next=7,c.Z.get("/qa/list/".concat(e.toUpperCase()));case 7:return a=n.sent,n.abrupt("return",a.data);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.post("/qa/new",t,{headers:{Authorization:"".concat(e)}});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.post("/qa/end",{qaId:t},{headers:{Authorization:"".concat(e)}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},2696:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r=t(8214),a=t(5861),c=t(9439),i=t(6907),s=t(4554),o=t(3044),l=t(890),u=t(1918),d=t(7708),x=t(6151),p=t(6934),h=t(8384),f=t(4261),Z=t(5111),v=t(9818),m=t(7123),g=t(184),j=function(n){var e=n.cancelText,t=n.primaryText,r=n.text,a=n.open,c=n.onClose,i=n.onClickPrimary;return(0,g.jsxs)(v.Z,{open:a,onClose:c,children:[(0,g.jsx)(l.Z,{variant:"h5",sx:{fontWeight:"bold",textAlign:"center",mt:2,maxWidth:300,p:2},children:r}),(e||t)&&(0,g.jsxs)(m.Z,{children:[e&&(0,g.jsx)(x.Z,{onClick:c,children:e}),t&&(0,g.jsx)(x.Z,{onClick:i,autoFocus:!0,children:t})]})]})},y=t(2791),b=t(8518),k=t(7153),w=t(4637),A=t(7494),I=t(6871),C=t(291),q="Agora Bot",S=function(n){var e,t,i,p=n.profile,v=n.qaId,m=n.createdAt,S=(0,y.useState)(!1),R=(0,c.Z)(S,2),T=R[0],D=R[1],O=(0,y.useState)(!1),U=(0,c.Z)(O,2),F=U[0],M=U[1],N=(0,I.s0)(),Q=(0,w.cl)()(),z=function(){D((function(n){return!n}))},X=function(){M((function(n){return!n}))},B=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.Xh)(Q,v);case 3:(0,b.yv)("\ubb38\uc81c\uac00 \ud574\uacb0\ub418\uc5c8\ub2e4\ub2c8 \ub2e4\ud589\uc774\uc5d0\uc694!",{variant:"success"}),z(),N("/profile"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),(0,b.yv)("\uc11c\ubc84\uc5d0\uc11c \uc5d0\ub7ec\uac00 \uc0dd\uacbc\uc5b4\uc694. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694",{variant:"error"}),z();case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),E=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.Xh)(Q,v);case 3:X(),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),(0,b.yv)("\uc11c\ubc84\uc5d0\uc11c \uc5d0\ub7ec\uac00 \uc0dd\uacbc\uc5b4\uc694. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694",{variant:"error"}),X();case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsxs)(P,{children:[(0,g.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,g.jsx)(o.Z,{sx:{bgcolor:(0,Z.Z)(null!==(e=null===p||void 0===p?void 0:p.nickname)&&void 0!==e?e:q)},children:null!==(t=null===p||void 0===p?void 0:p.nickname[0])&&void 0!==t?t:q[0]}),p&&(0,g.jsx)(s.Z,{width:"auto",justifyContent:"center",children:(0,g.jsx)(s.Z,{display:"flex",justifyContent:"center",children:(0,g.jsx)(C.Z,{rank:p.rank})})}),(0,g.jsxs)(s.Z,{children:[(0,g.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,g.jsxs)(l.Z,{variant:"h4",children:["\xa0",null!==(i=null===p||void 0===p?void 0:p.nickname)&&void 0!==i?i:q]}),p&&(0,g.jsx)(u.Z,{label:A.I[p.grade],sx:{mx:1},size:"small",color:"primary"})," "]}),p&&"PROFESSOR"!==p.grade&&(0,g.jsxs)(l.Z,{variant:"subtitle1",children:[p.univId.slice(0,2)," \ud559\ubc88"]})]})]}),(0,g.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center"},children:[m&&(0,g.jsxs)(l.Z,{variant:"subtitle1",sx:{mr:2},children:["\uc0dd\uc131\uc77c: ",m.split("T")[0].replaceAll("-",".")]}),(0,g.jsx)(d.Z,{placement:"bottom",title:"\ubb38\uc81c\uac00 \ud574\uacb0\ub418\uc5c8\uc5b4\uc694",children:(0,g.jsx)(x.Z,{startIcon:(0,g.jsx)(h.Z,{}),variant:"outlined",color:"success",onClick:z,sx:{mr:2},children:(0,g.jsx)(l.Z,{variant:"subtitle1",children:"\ud574\uacb0"})})}),null===p&&(0,g.jsx)(d.Z,{placement:"bottom",title:"\uc0ac\ub78c\uc744 \uc5f0\uacb0\ud574\uc8fc\uc138\uc694",children:(0,g.jsx)(x.Z,{startIcon:(0,g.jsx)(f.Z,{}),variant:"outlined",color:"primary",onClick:X,children:(0,g.jsx)(l.Z,{variant:"subtitle1",children:"\uc804\ud658"})})})]}),(0,g.jsx)(j,{text:"\ubb38\uc81c\uac00 \ud574\uacb0\ub418\uc5c8\ub098\uc694? \uc644\ub8cc\ud558\uc2dc\uba74 \ub3cc\uc774\ud0ac \uc218 \uc5c6\uc73c\ub2c8 \uc2e0\uc911\ud558\uac8c \uc120\ud0dd\ud574\uc8fc\uc138\uc694!",open:T,onClose:z,onClickPrimary:B,primaryText:"\uc644\ub8cc",cancelText:"\ucde8\uc18c"}),(0,g.jsx)(j,{text:"\uc120\ubc30\ub4e4\uc5d0\uac8c\uc11c \uc9c1\uc811 \ub2f5\ubcc0\uc744 \ubc1b\uc744 \uc218 \uc788\ub294 \uae30\ub2a5\uc774\uc5d0\uc694. \uacc4\uc18d \ud558\uc2dc\uaca0\uc5b4\uc694?",open:F,onClose:X,onClickPrimary:E,primaryText:"\uc804\ud658",cancelText:"\ucde8\uc18c"})]})},P=(0,p.ZP)(s.Z)((function(n){var e=n.theme;return"\n        @media (min-width: ".concat(e.breakpoints.values.md,"px) {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n      }\n")})),R=t(1413),T=t(3967),D=t(4834),O=t(7756),U=t(3567),F=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,U.Z.post("/qa/chat",t,{headers:{Authorization:"".concat(e)}});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),M=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.Z.get("/qa/chat/".concat(t),{headers:{Authorization:"".concat(e)}});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),N=function(n){var e=n.isQuestionUser,t=(0,T.Z)(),i=(0,w.fC)()(),l=(0,w.cl)()(),u=(0,I.s0)(),d=(0,I.UO)().category,p=Number(d),h=(0,y.useState)({question:"",category:null===d||void 0===d?void 0:d.toUpperCase()}),f=(0,c.Z)(h,2),v=f[0],m=f[1],j=(0,y.useState)({qaId:p,chat:"",isQuestion:e,questionId:0}),A=(0,c.Z)(j,2),C=A[0],q=A[1],S=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F(l,(0,R.Z)((0,R.Z)({},C),{},{qaId:p}));case 3:q((0,R.Z)((0,R.Z)({},C),{},{chat:""})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),(0,b.yv)("\ucc44\ud305\uc774 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc558\uc5b4\uc694. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694",{variant:"error"});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.FS)(l,v);case 3:e=n.sent,(0,b.yv)("\ucc44\ud305\ubc29\uc774 \uc0dd\uc131\ub418\uc5c8\uc5b4\uc694!",{variant:"success"}),u("/chat/".concat(e.id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,b.yv)("\uc11c\ubc84\uc5d0\uc11c \uc5d0\ub7ec\uac00 \uc0dd\uacbc\uc5b4\uc694. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694",{variant:"error"});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsx)(s.Z,{sx:{background:t.colors.alpha.white[50],display:"flex",alignItems:"center",p:2},children:(0,g.jsxs)(s.Z,{flexGrow:1,display:"flex",alignItems:"center",children:[(0,g.jsx)(o.Z,{sx:{bgcolor:(0,Z.Z)(i.nickname)},children:i.nickname[0]}),(0,g.jsx)(Q,{autoFocus:!0,placeholder:"\uc9c8\ubb38\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",fullWidth:!0,value:p?C.chat:v.question,onChange:p?function(n){q((0,R.Z)((0,R.Z)({},C),{},{chat:n.target.value}))}:function(n){m((0,R.Z)((0,R.Z)({},v),{},{question:n.target.value}))}}),(0,g.jsx)(s.Z,{children:(0,g.jsx)(x.Z,{startIcon:(0,g.jsx)(O.Z,{}),variant:"contained",sx:{width:150,height:50},onClick:p?S:P,children:p?"\ubcf4\ub0b4\uae30":"\ucc44\ud305\ubc29 \uc0dd\uc131"})})]})})},Q=(0,p.ZP)(D.ZP)((function(n){var e=n.theme;return"\n    font-size: ".concat(e.typography.pxToRem(18),";\n    padding: ").concat(e.spacing(1),";\n    width: 100%;\n")})),z=t(7621),X=function(n){var e=new Date(n),t=e.getMonth()+1,r=e.getDate(),a=e.getHours(),c=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),i=new Date;return e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()?"".concat(a,":").concat(c):"".concat(t,"/").concat(r," ").concat(a,":").concat(c)},B=function(n){var e=n.message,t=n.sentAt;return(0,g.jsx)(s.Z,{display:"flex",alignItems:"flex-start",justifyContent:"flex-end",py:3,children:(0,g.jsxs)(s.Z,{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",mr:2,children:[(0,g.jsx)(l.Z,{variant:"subtitle1",sx:{pt:1,mr:1,display:"flex",alignItems:"center"},children:X(t)}),(0,g.jsx)(E,{children:e})]})})},E=(0,p.ZP)(z.Z)((function(n){var e=n.theme;return"\n        background: ".concat(e.colors.primary.main,";\n        color: ").concat(e.palette.primary.contrastText,";\n        padding: ").concat(e.spacing(2),";\n        border-radius: ").concat(e.general.borderRadiusXl,";\n        border-top-right-radius: ").concat(e.general.borderRadius,";\n        max-width: 380px;\n        display: inline-flex;\n  ")})),G=function(n){var e=n.message,t=n.sentAt,r=n.nickname;return(0,g.jsxs)(s.Z,{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",py:3,children:[(0,g.jsx)(o.Z,{sx:{bgColor:(0,Z.Z)(r)},children:r[0]}),(0,g.jsxs)(s.Z,{display:"flex",alignItems:"flex-base",justifyContent:"flex-start",ml:2,children:[(0,g.jsx)(L,{sx:{mb:1},children:e}),(0,g.jsx)(l.Z,{variant:"subtitle1",sx:{ml:1,pt:1,display:"flex",alignItems:"center"},children:X(t)})]})]})},L=(0,p.ZP)(z.Z)((function(n){var e=n.theme;return"\n      background: ".concat(e.colors.alpha.black[10],";\n      color: ").concat(e.colors.alpha.black[100],";\n      padding: ").concat(e.spacing(2),";\n      border-radius: ").concat(e.general.borderRadiusXl,";\n      border-top-left-radius: ").concat(e.general.borderRadius,";\n      max-width: 380px;\n      display: inline-flex;\n")})),W=function(n){var e=n.isQuestionUser,t=n.nickname,r=n.chatDetails;return(0,g.jsx)(s.Z,{p:3,children:null===r||void 0===r?void 0:r.map((function(n,r){return e?n.isQuestion?(0,g.jsx)(B,{message:n.chat,sentAt:n.createdAt},r):(0,g.jsx)(G,{message:n.chat,sentAt:n.createdAt,nickname:t},r):n.isQuestion?(0,g.jsx)(G,{message:n.chat,sentAt:n.createdAt,nickname:t},r):(0,g.jsx)(B,{message:n.chat,sentAt:n.createdAt},r)}))})},H=t(5987),V=t(3889),Y=["className","children"],$=function(n){n.className;var e=n.children,t=(0,H.Z)(n,Y),r=(0,T.Z)();return(0,g.jsx)(V.$B,(0,R.Z)((0,R.Z)({autoHide:!0,renderThumbVertical:function(){return(0,g.jsx)(s.Z,{sx:{width:5,background:"".concat(r.colors.alpha.black[10]),borderRadius:"".concat(r.general.borderRadiusLg),transition:"".concat(r.transitions.create(["background"])),"&:hover":{background:"".concat(r.colors.alpha.black[30])}}})}},t),{},{children:e}))},J=t(7924),K=function(){var n,e=(0,I.UO)().category,t=Number(e),o=(0,w.cl)()(),l=((0,I.s0)(),(0,y.useState)([])),u=(0,c.Z)(l,2),d=u[0],x=u[1],p=(0,y.useState)(null),h=(0,c.Z)(p,2),f=h[0],Z=h[1],v=(0,y.useState)(!1),m=(0,c.Z)(v,2),j=m[0],k=m[1],A=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,M(o,t);case 3:e=n.sent,console.log(e),x(e.chats),e.profile&&Z(e.profile),k(e.isQuestionUser),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),(0,b.yv)("\ucc44\ud305 \ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc5b4\uc694. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694",{variant:"error"});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return(0,y.useEffect)((function(){t&&A()}),[t]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.ql,{children:(0,g.jsx)("title",{children:"\ucc44\ud305"})}),(0,g.jsx)(_,{className:"Mui-FixedWrapper",children:(0,g.jsxs)(nn,{children:[!!t&&(0,g.jsx)(en,{sx:{display:{xs:"flex",lg:"inline-block"}},children:(0,g.jsx)(S,{profile:f,qaId:t,createdAt:0!==(null===d||void 0===d?void 0:d.length)?d[0].createdAt:""})}),(0,g.jsx)(s.Z,{flex:1,children:(0,g.jsx)($,{children:(0,g.jsx)(W,{isQuestionUser:j,nickname:null!==(n=null===f||void 0===f?void 0:f.nickname)&&void 0!==n?n:"BOT",chatDetails:d})})}),(0,g.jsx)(J.Z,{}),(0,g.jsx)(N,{isQuestionUser:j})]})})]})},_=(0,p.ZP)(s.Z)((function(n){var e=n.theme;return"\n       height: calc(100vh - ".concat(e.header.height,");\n       display: flex;\n")})),nn=(0,p.ZP)(s.Z)((function(){return"\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n"})),en=(0,p.ZP)(s.Z)((function(n){var e=n.theme;return"\n        background: ".concat(e.colors.alpha.white[100],";\n        border-bottom: ").concat(e.colors.alpha.black[10]," solid 1px;\n        padding: ").concat(e.spacing(2),";\n        align-items: center;\n")}))},291:function(n,e,t){var r=t(2118),a=t(7494),c=t(184),i={BRONZE:"#cd7f32",SILVER:"#c0c0c0",GOLD:"#ffd700",PLATINUM:"#00ced1",DIAMOND:"#b9f2ff"};e.Z=function(n){var e=n.rank,t=a.S[e].split(" ")[0];return(0,c.jsx)(r.Z,{sx:{fontSize:38,color:i[t]}})}}}]);
//# sourceMappingURL=696.5b337e9f.chunk.js.map